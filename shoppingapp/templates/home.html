{% extends "base.html" %}
{% block content %}

  <!-- Main Content -->
  <div class="container text-center py-5">
    <h1 class="text-primary fw-bold mb-4">Welcome to Viki's Shop</h1>

    <!-- Search -->
    <div class="input-group mb-5 mx-auto" style="max-width:600px;">
      <input type="text" id="productSearch" class="form-control" placeholder="Search products...">
      <button class="btn btn-primary fw-semibold" onclick="searchProducts()">Search</button>
    </div>

    <!-- Products -->
    <section>
      <h2 class="text-primary fw-bold mb-4">Featured Products For You</h2>
      <div class="row g-4 justify-content-center" id="productGrid">
        {% if products %}
          {% for product in products %}
          <div class="col-sm-6 col-md-4 col-lg-3">
            <a href="{% url 'shoppingapp:product_detail' product.id %}" class="text-decoration-none text-dark">
              <div class="card h-100 shadow-sm border-0">
               
                  <img src="{{ product.image.url }}" class="card-img-top rounded" alt="{{ product.name }}" style="height:220px; object-fit:cover;">
              
                <div class="card-body text-center">
                  <h5 class="card-title fw-semibold">{{ product.name }}</h5>
                  <p class="card-text text-primary fw-bold fs-5">â‚¹{{ product.price }}</p>
                </div>
              </div>
            </a>
          </div>
          {% endfor %}
        {% else %}
          <div class="col-12 text-center py-5">
            <h3 class="text-muted">No products available yet.</h3>
            <p class="text-secondary">Please check back later or contact the administrator.</p>
          </div>
        {% endif %}
      </div>
    </section>
  </div>



  <!-- JS -->
  <script>
    function searchProducts() {
      const searchInput = document.getElementById('productSearch').value.toLowerCase();
      const productCards = document.querySelectorAll('#productGrid .card');
      if (searchInput.trim() === '') {
        productCards.forEach(card => card.parentElement.style.display = 'block');
        return;
      }
      productCards.forEach(card => {
        const title = card.querySelector('.card-title').textContent.toLowerCase();
        card.parentElement.style.display = title.includes(searchInput) ? 'block' : 'none';
      });
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{%  endblock %} 